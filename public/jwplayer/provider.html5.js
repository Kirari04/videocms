/*! For license information please see provider.html5.js.LICENSE.txt */
"use strict";(self.webpackChunkjwplayer=self.webpackChunkjwplayer||[]).push([[250],{1117:function(e,t,r){function i(e,t){var r=e.kind||"cc";return e.default||e.defaulttrack?"default":e._id||e.file||r+t}function n(e,t){var r=e.label||e.name||e.language;return r||(r="Unknown CC",(t+=1)>1&&(r+=" ["+t+"]")),{label:r,unknownCount:t}}r.d(t,{M:function(){return i},_:function(){return n}})},2876:function(e,t,r){r.d(t,{V:function(){return h},x:function(){return l}});var i=r(7094),n=r(945),a=r(5487),s=r(4046),u=r(3236),o=r(6210),c=r(5736);function d(e){throw new c.rG(null,e)}function l(e,t,i){e.xhr=(0,a.h)(e.file,(function(a){!function(e,t,i,a){var l,h,v=e.responseXML?e.responseXML.firstChild:null;if(v)for("xml"===(0,s.r1)(v)&&(v=v.nextSibling);v&&v.nodeType===v.COMMENT_NODE;)v=v.nextSibling;try{if(v&&"tt"===(0,s.r1)(v)){if(!e.responseXML)throw new Error("Empty XML response");l=function(e){e||d(306007);var t=[],r=e.getElementsByTagName("p"),i=30,n=e.getElementsByTagName("tt");if(n&&n[0]){var a=parseFloat(n[0].getAttribute("ttp:frameRate")||"");isNaN(a)||(i=a)}r||d(306005),r.length||(r=e.getElementsByTagName("tt:p")).length||(r=e.getElementsByTagName("tts:p"));for(var s=0;s<r.length;s++){for(var u=r[s],c=u.getElementsByTagName("br"),l=0;l<c.length;l++){var h=c[l];h&&h.parentNode&&h.parentNode.replaceChild(e.createTextNode("\r\n"),h)}var f=u.innerHTML||u.textContent||u.text||"",v=(0,o.fy)(f).replace(/>\s+</g,"><").replace(/(<\/?)tts?:/g,"$1").replace(/<br.*?\/>/g,"\r\n");if(v){var T=u.getAttribute("begin")||"",g=u.getAttribute("dur")||"",m=u.getAttribute("end")||"",k={begin:(0,o.m9)(T,i),text:v};m?k.end=(0,o.m9)(m,i):g&&(k.end=(k.begin||0)+(0,o.m9)(g,i)),t.push(k)}}return t.length||d(306005),t}(e.responseXML),h=f(l),delete t.xhr,i(h)}else{var T=e.responseText;T.indexOf("WEBVTT")>=0?r.e(347).then(function(e){return r(3744).default}.bind(null,r)).catch((0,n.Jt)(301131)).then((function(e){var r=new e(window);h=[],r.oncue=function(e){h.push(e)},r.onflush=function(){delete t.xhr,i(h)},r.parse(T)})).catch((function(e){delete t.xhr,a((0,c.Mm)(null,c.Y7,e))})):(l=(0,u.Z)(T),h=f(l),delete t.xhr,i(h))}}catch(e){delete t.xhr,a((0,c.Mm)(null,c.Y7,e))}}(a,e,t,i)}),(function(e,t,r,n){i((0,c.l9)(n,c.Y7))}))}function h(e){e&&e.forEach((function(e){var t=e.xhr;t&&(t.onload=null,t.onreadystatechange=null,t.onerror=null,"abort"in t&&t.abort()),delete e.xhr}))}function f(e){return e.map((function(e){return new i.Z(e.begin,e.end,e.text)}))}},3236:function(e,t,r){r.d(t,{Z:function(){return n}});var i=r(6210);function n(e){var t=[],r=(e=(0,i.fy)(e)).split("\r\n\r\n");1===r.length&&(r=e.split("\n\n"));for(var n=0;n<r.length;n++)if("WEBVTT"!==r[n]){var s=a(r[n]);s.text&&t.push(s)}return t}function a(e){var t={},r=e.split("\r\n");1===r.length&&(r=e.split("\n"));var n=1;if(r[0].indexOf(" --\x3e ")>0&&(n=0),r.length>n+1&&r[n+1]){var a=r[n],s=a.indexOf(" --\x3e ");s>0&&(t.begin=(0,i.m9)(a.substr(0,s)),t.end=(0,i.m9)(a.substr(s+5)),t.text=r.slice(n+1).join("\r\n"))}return t}},7094:function(e,t){var r=window.VTTCue;function i(e){return"string"==typeof e&&(!!{start:!0,middle:!0,end:!0,left:!0,right:!0}[e.toLowerCase()]&&e.toLowerCase())}if(!r){var n="auto";(r=function(e,t,r){var a=this;a.hasBeenReset=!1;var s="",u=!1,o=e,c=t,d=r,l=null,h="",f=!0,v=n,T="start",g=n,m=100,k="middle";Object.defineProperty(a,"id",{enumerable:!0,get:function(){return s},set:function(e){s=""+e}}),Object.defineProperty(a,"pauseOnExit",{enumerable:!0,get:function(){return u},set:function(e){u=!!e}}),Object.defineProperty(a,"startTime",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");o=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"endTime",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"text",{enumerable:!0,get:function(){return d},set:function(e){d=""+e,this.hasBeenReset=!0}}),Object.defineProperty(a,"region",{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"vertical",{enumerable:!0,get:function(){return h},set:function(e){var t=function(e){return"string"==typeof e&&!!{"":!0,lr:!0,rl:!0}[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");h=t,this.hasBeenReset=!0}}),Object.defineProperty(a,"snapToLines",{enumerable:!0,get:function(){return f},set:function(e){f=!!e,this.hasBeenReset=!0}}),Object.defineProperty(a,"line",{enumerable:!0,get:function(){return v},set:function(e){if("number"!=typeof e&&e!==n)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"lineAlign",{enumerable:!0,get:function(){return T},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}}),Object.defineProperty(a,"position",{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");g=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"size",{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"align",{enumerable:!0,get:function(){return k},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");k=t,this.hasBeenReset=!0}}),a.displayState=void 0}).prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)}}t.Z=r},7707:function(e,t,r){r.r(t),r.d(t,{default:function(){return P}});var i=r(5913),n=r(2628),a=r(3166),s=r(2221),u=r(4928),o={canplay:function(){this.renderNatively&&this.setTextTracks(this.video.textTracks),this.trigger(s.Jl)},play:function(){this.stallTime=-1,this.video.paused||this.state===s.r0||this.setState(s.ik)},loadedmetadata:function(){var e={metadataType:"media",duration:this.getDuration(),height:this.video.videoHeight,width:this.video.videoWidth,seekRange:this.getSeekRange()},t=this.drmUsed;t&&(e.drm=t),this.trigger(s.rx,e)},timeupdate:function(){var e=this.video.currentTime,t=this.getCurrentTime(),r=this.getDuration();if(!isNaN(r)){this.seeking||this.video.paused||this.state!==s.nQ&&this.state!==s.ik||this.stallTime===e||(this.stallTime=-1,this.setState(s.r0),this.trigger(s.Gj));var i={position:t,duration:r,currentTime:e,seekRange:this.getSeekRange(),metadata:{currentTime:e}},n=this.getLiveLatency();if(null!==n&&(i.latency=n,this.getTargetLatency)){var a=this.getTargetLatency();null!==a&&(i.targetLatency=a)}(this.state===s.r0||this.seeking&&this.state!==s.bc)&&this.trigger(s.R2,i)}},click:function(e){this.trigger(s.ot,e)},volumechange:function(){var e=this.video;this.trigger(s.yH,{volume:Math.round(100*e.volume)}),this.trigger(s.gy,{mute:e.muted})},seeking:function(){if(this.state===s.ik){var e=this.video.buffered.length?this.video.buffered.start(0):-1;if(this.video.currentTime===e)return}else if(this.state===s.bc)return;this.seeking=!0},seeked:function(){this.seeking&&(this.seeking=!1,this.trigger(s.aQ))},playing:function(){-1===this.stallTime&&this.setState(s.r0),this.trigger(s.Gj)},pause:function(){this.state!==s.xQ&&(this.video.ended||this.video.error||this.video.currentTime!==this.video.duration&&this.setState(s._5))},progress:function(){var e=this.getDuration();if(!(e<=0||e===1/0)){var t=this.video.buffered;if(t&&0!==t.length){var r=(0,u.v)(t.end(t.length-1)/e,0,1);this.trigger(s.uT,{bufferPercent:100*r,position:this.getCurrentTime(),duration:e,currentTime:this.video.currentTime,seekRange:this.getSeekRange()})}}},ratechange:function(){this.trigger(s.TJ,{playbackRate:this.video.playbackRate})},ended:function(){this.state!==s.bc&&this.state!==s.xQ&&this.trigger(s.Ms)}},c=r(6016);function d(e){return e&&e.length?e.end(e.length-1):0}var l={container:null,volume:function(e){this.video.volume=Math.min(Math.max(0,e/100),1)},mute:function(e){this.video.muted=!!e,this.video.muted||this.video.removeAttribute("muted")},resize:function(e,t,r){var i=this.video,a=i.videoWidth,s=i.videoHeight;if(e&&t&&a&&s){var u={objectFit:"",width:"",height:""},o=e/t,d=a/s;if("uniform"===r&&(o>d?e-e/(o/d):t-t/(d/o))<6&&(u.objectFit="fill",r="exactfit"),n.Browser.ie||n.OS.iOS&&(n.OS.version.major||0)<9||n.Browser.androidNative)if("uniform"!==r){u.objectFit="contain";var l=1,h=1;"none"===r?l=h=o>d?Math.ceil(100*s/t)/100:Math.ceil(100*a/e)/100:"fill"===r?l=h=o>d?o/d:d/o:"exactfit"===r&&(o>d?(l=o/d,h=1):(l=1,h=d/o)),(0,c.vs)(i,"matrix("+l.toFixed(2)+", 0, 0, "+h.toFixed(2)+", 0, 0)")}else u.top=u.left=u.margin="",(0,c.vs)(i,"");(0,c.oB)(i,u)}},getContainer:function(){return this.container},setContainer:function(e){this.container=e,this.video.parentNode!==e&&e.appendChild(this.video)},removeFromContainer:function(){var e=this.container,t=this.video;this.container=null,e&&e===t.parentNode&&e.removeChild(t)},remove:function(){this.stop(),this.destroy(),this.removeFromContainer()},atEdgeOfLiveStream:function(){return!!this.isLive()&&d(this.video.buffered)-this.video.currentTime<=2}},h={eventsOn_:function(){},eventsOff_:function(){},attachMedia:function(){this.eventsOn_()},detachMedia:function(){return this.eventsOff_()}},f=r(4329),v=r(1885),T=r(7979),g=r(6163),m=r(2876),k=r(1117),p={TIT2:"title",TT2:"title",WXXX:"url",TPE1:"artist",TP1:"artist",TALB:"album",TAL:"album"};function y(e,t){for(var r,i,n,a=e.length,s="",u=t||0;u<a;)if(0!==(r=e[u++])&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(r);break;case 12:case 13:i=e[u++],s+=String.fromCharCode((31&r)<<6|63&i);break;case 14:i=e[u++],n=e[u++],s+=String.fromCharCode((15&r)<<12|(63&i)<<6|(63&n)<<0)}return s}function b(e){var t=function(e){for(var t="0x",r=0;r<e.length;r++)e[r]<16&&(t+="0"),t+=e[r].toString(16);return parseInt(t)}(e);return 127&t|(32512&t)>>1|(8323072&t)>>2|(2130706432&t)>>3}function x(){var e=this.video.textTracks,t=(0,i.hX)(e,(function(e){return(e.inuse||!e._id)&&S(e.kind)}));if(this._textTracks&&!_.call(this,t)){for(var r=-1,n=0;n<this._textTracks.length;n++)if("showing"===this._textTracks[n].mode){r=n;break}r!==this._currentTextTrackIndex&&this.setSubtitlesTrack(r+1)}else this.setTextTracks(e)}function _(e){var t=this._textTracks,r=this._tracksById;if(e.length>t.length)return!0;for(var i=0;i<e.length;i++){var n=e[i];if(!n._id||!r[n._id])return!0}return!1}function w(e){var t=e.track;t&&t._id||this.setTextTracks(this.video.textTracks)}function C(e){var t=e.target,r=t.activeCues,i=t.cues,n=t._id,a=this._cues,s=this._activeCues;if(i&&i.length){var u=a[n];a[n]=Array.prototype.slice.call(i),this.parseNativeID3Cues(i,u)}else delete a[n];if(r&&r.length){var o=s[n],c=s[n]=Array.prototype.slice.call(r);this.triggerActiveCues(c,o)}else delete s[n]}function L(e,t,r){if(n.Browser.ie){var i=r;(e||"metadata"===t.kind)&&(i=new window.TextTrackCue(r.startTime,r.endTime,r.text),r.value&&(i.value=r.value)),function(e,t){var r=[],i=e.mode;e.mode="hidden";var n=e.cues;if(n)for(var a=n.length-1;a>=0&&n[a].startTime>t.startTime;a--)r.unshift(n[a]),e.removeCue(n[a]);try{e.addCue(t),r.forEach((function(t){return e.addCue(t)}))}catch(e){console.error(e)}e.mode=i}(t,i)}else try{t.addCue(r)}catch(e){console.error(e)}}function E(e,t,r){t&&t.length&&(0,i.S6)(t,(function(t){var i=t._id||"";if(r&&(t._id=void 0),!n.Browser.ie&&!n.Browser.safari||!e||!/^(native|subtitle|cc)/.test(i)){if(n.Browser.ie&&"disabled"===t.mode||(t.mode="disabled",t.mode="hidden"),t.cues)for(var a=t.cues.length;a--;)t.removeCue(t.cues[a]);t.embedded||(t.mode="disabled"),t.inuse=!1}}))}function S(e){return"captions"===e||"subtitles"===e}function B(e){return/^native(?:captions|subtitles)/.test(e)}function M(e){var t,r=(void 0===(t=e)&&(t=[]),t.reduce((function(e,t){if(!("value"in t)&&"data"in t&&t.data instanceof ArrayBuffer){var r=new Uint8Array(t.data),i=r.length;t={value:{key:"",data:""}};for(var n=10;n<14&&n<r.length&&0!==r[n];)t.value.key+=String.fromCharCode(r[n]),n++;var a=19,s=r[a];3!==s&&0!==s||(s=r[++a],i--);var u=0;if(1!==s&&2!==s)for(var o=a+1;o<i;o++)if(0===r[o]){u=o-a;break}if(u>0){var c=y(r.subarray(a,a+=u),0);if("PRIV"===t.value.key){if("com.apple.streaming.transportStreamTimestamp"===c){var d=1&b(r.subarray(a,a+=4)),l=b(r.subarray(a,a+=4))+(d?4294967296:0);t.value.data=l}else t.value.data=y(r,a+1);t.value.info=c}else t.value.info=c,t.value.data=y(r,a+1)}else{var h=r[a];t.value.data=1===h||2===h?function(e,t){for(var r=e.length-1,i="",n=t||0;n<r;)254===e[n]&&255===e[n+1]||(i+=String.fromCharCode((e[n]<<8)+e[n+1])),n+=2;return i}(r,a+1):y(r,a+1)}}if(Object.prototype.hasOwnProperty.call(p,t.value.key)&&(e[p[t.value.key]]=t.value.data),t.value.info){var f=e[t.value.key];f!==Object(f)&&(f={},e[t.value.key]=f),f[t.value.info]=t.value.data}else e[t.value.key]=t.value.data;return e}),{}));return{metadataType:"id3",metadataTime:e[0].startTime,metadata:r}}function O(e,t){return e.startTime===t.startTime&&e.endTime===t.endTime&&e.text===t.text&&e.data===t.data&&JSON.stringify(e.value)===JSON.stringify(t.value)}var N={_itemTracks:null,_textTracks:null,_currentTextTrackIndex:-1,_tracksById:null,_cuesByTrackId:null,_cachedVTTCues:null,_metaCuesByTextTime:null,_unknownCount:0,_activeCues:null,_cues:null,textTrackChangeHandler:null,addTrackHandler:null,cueChangeHandler:null,renderNatively:!1,_initTextTracks:function(){this._textTracks=[],this._tracksById={},this._metaCuesByTextTime={},this._cuesByTrackId={},this._cachedVTTCues={},this._cues={},this._activeCues={},this._unknownCount=0},addTracksListener:function(e,t,r){e&&(this.removeTracksListener(e,t,r),this.instreamMode||(e.addEventListener?e.addEventListener(t,r):e["on"+t]=r))},removeTracksListener:function(e,t,r){e&&(e.removeEventListener&&r?e.removeEventListener(t,r):e["on"+t]=null)},clearTracks:function(){var e=this;(0,m.V)(this._itemTracks);var t=this._tracksById;if(t&&Object.keys(t).forEach((function(r){if(0===r.indexOf("nativemetadata")){var i=t[r];e.cueChangeHandler&&i.removeEventListener("cuechange",e.cueChangeHandler),E(e.renderNatively,[i],!0)}})),this._itemTracks=null,this._textTracks=null,this._tracksById=null,this._cuesByTrackId=null,this._metaCuesByTextTime=null,this._unknownCount=0,this._currentTextTrackIndex=-1,this._activeCues={},this._cues={},this.renderNatively){var r=this.video.textTracks;this.textTrackChangeHandler&&this.removeTracksListener(r,"change",this.textTrackChangeHandler),E(this.renderNatively,r,!0)}},clearMetaCues:function(){var e=this,t=this._tracksById,r=this._cachedVTTCues;t&&r&&Object.keys(t).forEach((function(i){if(0===i.indexOf("nativemetadata")){var n=t[i];E(e.renderNatively,[n],!1),n.mode="hidden",n.inuse=!0,n._id&&(r[n._id]={})}}))},clearCueData:function(e){var t=this._cachedVTTCues;t&&t[e]&&(t[e]={},this._tracksById&&(this._tracksById[e].data=[]))},disableTextTrack:function(){var e=this.getCurrentTextTrack();if(e){e.mode="disabled";var t=e._id;(t&&B(t)||this.renderNatively&&n.OS.iOS)&&(e.mode="hidden")}},enableTextTrack:function(){var e=this.getCurrentTextTrack();e&&(e.mode="showing")},getCurrentTextTrack:function(){if(this._textTracks)return this._textTracks[this._currentTextTrackIndex]},getSubtitlesTrack:function(){return this._currentTextTrackIndex},addTextTracks:function(e){var t=this,r=[];return e?(this._textTracks||this._initTextTracks(),e.forEach((function(e){if(!(e.includedInManifest||e.kind&&!S(e.kind))){var i=t._createTrack(e);t._addTrackToList(i),r.push(i),e.file&&(e.data=[],(0,m.x)(e,(function(e){i.sideloaded=!0,t.addVTTCuesToTrack(i,e)}),(function(e){t.trigger(s.cM,e)})))}})),this._textTracks&&this._textTracks.length&&this.trigger(s.jt,{tracks:this._textTracks}),r):r},setTextTracks:function(e){var t=this;if(this._currentTextTrackIndex=-1,e){if(this._textTracks){var r=this._tracksById;this._activeCues={},this._cues={},this._unknownCount=0,this._textTracks=this._textTracks.filter((function(e){var i=e._id;return t.renderNatively&&i&&B(i)?(delete r[i],!1):(e.name&&0===e.name.indexOf("Unknown")&&t._unknownCount++,0===i.indexOf("nativemetadata")&&"com.apple.streaming"===e.inBandMetadataTrackDispatchType&&delete r[i],!0)}),this)}else this._initTextTracks();if(e.length)for(var i=0,n=e.length,a=this._tracksById,u=this._cuesByTrackId;i<n;i++){var o=e[i],c=o._id||"";if(!c){if(!1===o.inuse&&S(o.kind)&&this.renderNatively){o._id="native"+o.kind+i;continue}if(S(o.kind)||"metadata"===o.kind){if(c=o._id="native"+o.kind+i,!o.label&&"captions"===o.kind){var d=(0,k._)(o,this._unknownCount);o.name=d.label,this._unknownCount=d.unknownCount}}else c=o._id=(0,k.M)(o,this._textTracks?this._textTracks.length:0);if(a[c])continue;o.inuse=!0}if(o.inuse&&!a[c])if("metadata"===o.kind){o.mode="hidden";var l=this.cueChangeHandler=this.cueChangeHandler||C.bind(this);o.removeEventListener("cuechange",l),o.addEventListener("cuechange",l),a[c]=o}else if(S(o.kind)){var h=o.mode,f=void 0;if(o.mode="hidden",(!o.cues||!o.cues.length)&&o.embedded)continue;if(("disabled"!==h||B(c))&&(o.mode=h),u[c]&&!u[c].loaded){for(var v=u[c].cues;f=v.shift();)L(this.renderNatively,o,f);o.mode=h,u[c].loaded=!0}this._addTrackToList(o)}}this.renderNatively&&this.addTrackListeners(e),this._textTracks&&this._textTracks.length&&this.trigger(s.jt,{tracks:this._textTracks})}},addTrackListeners:function(e){var t=this.textTrackChangeHandler=this.textTrackChangeHandler||x.bind(this);this.removeTracksListener(e,"change",t),this.addTracksListener(e,"change",t),(n.Browser.edge&&n.Browser.ie||n.Browser.firefox)&&(t=this.addTrackHandler=this.addTrackHandler||w.bind(this),this.removeTracksListener(e,"addtrack",t),this.addTracksListener(e,"addtrack",t))},setupSideloadedTracks:function(e){if(this.renderNatively){var t=(e=e||null)===this._itemTracks;t||(0,m.V)(this._itemTracks),this._itemTracks=e,e&&(t||(this.disableTextTrack(),this._clearSideloadedTextTracks(),this.addTextTracks(e)))}},setSubtitlesTrack:function(e){if(this.renderNatively){if(this._textTracks&&(0===e&&this._textTracks.forEach((function(e){e.mode=e.embedded?"hidden":"disabled"})),this._currentTextTrackIndex!==e-1)){this.disableTextTrack(),this._currentTextTrackIndex=e-1;var t=this.getCurrentTextTrack();t&&(t.mode="showing"),this.trigger(s.UF,{currentTrack:this._currentTextTrackIndex+1,tracks:this._textTracks})}}else this.setCurrentSubtitleTrack&&this.setCurrentSubtitleTrack(e-1)},createCue:function(e,t,r){return new(window.VTTCue||window.TextTrackCue)(e,Math.max(t||0,e+.25),r)},addVTTCue:function(e,t){this._tracksById||this._initTextTracks();var r=e.track?e.track:"native"+e.type,i=this._tracksById[r],n="captions"===e.type?"Unknown CC":"ID3 Metadata",a=e.cue;if(!i){var s={kind:e.type,_id:r,label:n,default:!1};this.renderNatively||"metadata"===s.kind?((i=this._createTrack(s)).embedded=!0,this.setTextTracks(this.video.textTracks)):i=this.addTextTracks([s])[0]}if(this._cacheVTTCue(i,a,t)){var u=this.renderNatively||"metadata"===i.kind;return u?L(u,i,a):i.data.push(a),a}return null},addVTTCuesToTrack:function(e,t){if(this.renderNatively){var r,i=e._id,n=this._tracksById,a=this._cuesByTrackId,s=n[i];if(!s)return a||(a=this._cuesByTrackId={}),void(a[i]={cues:t,loaded:!1});if(!a[i]||!a[i].loaded)for(a[i]={cues:t,loaded:!0};r=t.shift();)L(this.renderNatively,s,r)}},parseNativeID3Cues:function(e,t){var r=e[e.length-1];if(!t||t.length!==e.length||!r._parsed&&!O(t[t.length-1],r)){for(var i=[],n=[],a=-1,u=-1,o=-1,c=0;c<e.length;c++){var d=e[c];if(!d._extended&&(d.data||d.value)){if(d.startTime!==u||null===d.endTime){o=u,u=d.startTime;var l=i[a];if(i[++a]=[],n[a]=[],l&&u-o>0)for(var h=0;h<l.length;h++){var f=l[h];f.endTime=u,f._extended=!0}}i[a].push(d),d._parsed||(n[a].push(d),d.endTime-u<.25&&(d.endTime=u+.25),d._parsed=!0)}}for(var v=0;v<n.length;v++)if(n[v].length){var T=M(n[v]);this.trigger(s.O1,T)}}},triggerActiveCues:function(e,t){var r=this,i=e.filter((function(e){if(t&&t.some((function(t){return O(e,t)})))return!1;if(e.data)return!0;var i=e.text?function(e){var t;try{t=JSON.parse(e.text)}catch(e){return null}var r={metadataType:t.metadataType,metadataTime:e.startTime,metadata:t};return t.programDateTime&&(r.programDateTime=t.programDateTime),r}(e):null;if(i)"emsg"===i.metadataType&&(i.metadata=i.metadata||{},i.metadata.messageData=e.value),r.trigger(s.rx,i);else if(e.value)return!0;return!1}));if(i.length){var n=M(i);this.trigger(s.rx,n)}},ensureMetaTracksActive:function(){for(var e=this.video.textTracks,t=e.length,r=0;r<t;r++){var i=e[r];"metadata"===i.kind&&"disabled"===i.mode&&(i.mode="hidden")}},_cacheVTTCue:function(e,t,r){var i=e.kind,n=e._id,a=this._cachedVTTCues;a[n]||(a[n]={});var s,u=a[n];switch(i){case"captions":case"subtitles":s=r||Math.floor(20*t.startTime);var o="_"+(t.line||"auto"),c=Math.floor(20*t.endTime),d=u[s+o]||u[s+1+o]||u[s-1+o];return!(d&&Math.abs(d-c)<=1||(u[s+o]=c,0));case"metadata":var l=t.data?new Uint8Array(t.data).join(""):t.text;return!u[s=r||t.startTime+l]&&(u[s]=t.endTime,!0);default:return!1}},_addTrackToList:function(e){this._textTracks.push(e),this._tracksById[e._id]=e},_createTrack:function(e){var t,r=(0,k._)(e,this._unknownCount),n=r.label;if(this._unknownCount=r.unknownCount,this.renderNatively||"metadata"===e.kind){var a=this.video.textTracks;(t=(0,i._e)(a,{label:n}))||(t=this.video.addTextTrack(e.kind,n,e.language||"")),t.default=e.default,t.mode="disabled",t.inuse=!0}else(t=e).data=t.data||[];return t._id||(t._id=(0,k.M)(e,this._textTracks?this._textTracks.length:0)),t},_clearSideloadedTextTracks:function(){if(this._textTracks){var e=this._textTracks.filter((function(e){return e.embedded||"subs"===e.groupid}));this._initTextTracks();var t=this._tracksById;e.forEach((function(e){t[e._id]=e})),this._textTracks=e}}},R=r(4259),I=r(8601),A=r(5736),j=window.clearTimeout,D=function(){};function H(e,t){Object.keys(e).forEach((function(r){t.removeEventListener(r,e[r])}))}function V(e,t,r){var u=this;u.state=s.bc,u.seeking=!1,u.currentTime=-1,u.retries=0,u.maxRetries=3,u.muteToggle=n.OS.iOS||n.Browser.safari;var T=t.loadAndParseHlsMetadata;u.loadAndParseHlsMetadata=void 0===T||!!T;var m,k=t.minDvrWindow,p={progress:function(){o.progress.call(u),de()&&he(),fe()},timeupdate:function(){u.currentTime>=0&&(u.retries=0),u.currentTime=b.currentTime,B&&E!==b.currentTime&&J(b.currentTime),o.timeupdate.call(u),fe(),n.Browser.ie&&G()},resize:G,ended:function(){S=-1,ve(),o.ended.call(u)},loadedmetadata:function(){var e=u.getDuration();Q&&e===1/0&&(e=0);var t={metadataType:"media",duration:e,height:b.videoHeight,width:b.videoWidth,seekRange:u.getSeekRange()};u.fairplay&&(t.drm="fairplay"),u.trigger(s.rx,t),G()},durationchange:function(){Q||o.progress.call(u)},loadeddata:function(){var e;!function(){var e=b;if(e.getStartDate){var t=e.getStartDate(),r=t.getTime?t.getTime():NaN;r===u.startDateTime||isNaN(r)||u.setStartDateTime(r)}}(),function(e){if(O=null,e){if(e.length){for(var t=0;t<e.length;t++)if(e[t].enabled){V=t;break}-1===V&&(e[V=0].enabled=!0),O=(0,i.UI)(e,(function(e){return{name:e.label||e.language,language:e.language}}))}u.addTracksListener(e,"change",ue),O&&u.trigger(s.j0,{currentTrack:V,tracks:O})}}(b.audioTracks),e=u.getDuration(),C&&-1!==C&&e&&e!==1/0&&u.seek(C)},canplay:function(){w||(w=!0,Q||le(),G(),o.canplay.call(u))},seeking:function(){var e=E,t=null!==L?q(L):u.getCurrentTime(),r=q(e);E=L,L=null,C=0,u.seeking=!0,u.trigger(s.NZ,{position:r,offset:t,duration:u.getDuration(),currentTime:e,seekRange:u.getSeekRange(),metadata:{currentTime:e}})},seeked:function(){o.seeked.call(u),u.ensureMetaTracksActive()},waiting:function(){u.seeking||u.video.seeking?u.setState(s.ik):u.state===s.r0&&(u.atEdgeOfLiveStream()&&u.setPlaybackRate(1),u.stallTime=u.video.currentTime,u.setState(s.nQ))},webkitbeginfullscreen:function(e){B=!0,oe(e)},webkitendfullscreen:function(e){B=!1,oe(e)},error:function(){var e=u.video,t=e.error,r=t&&t.code||-1;if((3===r||4===r)&&u.retries<u.maxRetries)return u.trigger(s.cM,new A.rG(null,324e3+r-1,t)),u.retries++,b.load(),void(-1!==u.currentTime&&(w=!1,u.seek(u.currentTime),u.currentTime=-1));var i=224e3,n=A.ul;1===r?i+=r:2===r?(n=A.MD,i=221e3):3===r||4===r?(i+=r-1,4===r&&e.src===location.href&&(i=224005)):n=A.ud,ne(),u.trigger(s.Ew,new A.rG(n,i,t))}};Object.keys(o).forEach((function(e){if(!p[e]){var t=o[e];p[e]=function(e){t.call(u,e)}}})),(0,i.l7)(this,g.ZP,l,h,N,{renderNatively:(m=t.renderCaptionsNatively,!(!n.OS.iOS&&!n.Browser.safari)||m&&n.Browser.chrome),eventsOn_:function(){var e,t;e=p,t=b,Object.keys(e).forEach((function(r){t.removeEventListener(r,e[r]),t.addEventListener(r,e[r])}))},eventsOff_:function(){H(p,b)},detachMedia:function(){h.detachMedia.call(u),ve(),this.removeTracksListener(b.textTracks,"change",this.textTrackChangeHandler),this.removeTracksListener(b.textTracks,"addtrack",this.addTrackHandler),this.videoLoad&&(b.load=this.videoLoad),re()&&this.disableTextTrack()},attachMedia:function(){if(h.attachMedia.call(u),w=!1,this.seeking=!1,b.loop=!!t.loop,n.OS.iOS&&!this.videoLoad){var e=this.videoLoad=b.load;b.load=function(){return b.src===location.href?(-1===S&&(S=K(y)),ie(y[S]),u.state===s.r0&&b.play(),void u.trigger(s.cM,new A.rG(null,324005,new Error("video.load() was called after setting video.src to empty while playing video")))):e.call(b)}}re()&&this.enableTextTrack(),this.renderNatively&&this.setTextTracks(this.video.textTracks),this.addTracksListener(b.textTracks,"change",this.textTrackChangeHandler)},isLive:function(){return b.duration===1/0}});var y,b=r,x={level:{}},_=null!==t.liveTimeout?t.liveTimeout:3e4,w=!1,C=0,L=null,E=null,S=-1,B=!1,M=D,O=null,V=-1,P=-1,W=!1,Z=null,Q=!1,U=null,X=null,z=0;function G(){var e=x.level;if(e.width!==b.videoWidth||e.height!==b.videoHeight){if(!b.videoWidth&&!de()||-1===S)return;u.ensureMetaTracksActive(),e.width=b.videoWidth,e.height=b.videoHeight,le(),x.reason=x.reason||"auto";var t="hls"===y[S].type?"auto":"manual";e.index=S,e.label=y[S].label,u.trigger(s.ug,{reason:x.reason,mode:t,bitrate:0,level:{width:e.width,height:e.height,index:e.index,label:e.label}}),x.reason=""}}function J(e){E=e}function q(e){var t=u.getSeekRange();return u.isLive()&&(0,f.s)(t.end-t.start,k)?Math.min(0,e-t.end):e}function Y(e){var t;return Array.isArray(e)&&e.length>0&&(t=e.map((function(e,t){return{label:e.label||t}}))),t}function $(e){u.currentTime=-1,k=e.minDvrWindow,y=e.sources,S=K(y)}function K(e){var r=Math.max(0,S),i=t.qualityLabel;if(e)for(var n=0;n<e.length;n++)if(e[n].default&&(r=n),i&&e[n].label===i)return n;return x.reason="initial choice",x.level.width&&x.level.height||(x.level={}),r}function ee(){return b.paused&&b.played&&b.played.length&&u.isLive()&&!(0,f.s)(se()-ae(),k)&&(u.clearTracks(),b.load()),b.play()||(0,R.Z)(b)}function te(e){u.currentTime=-1,C=0,ve();var t=b.src,r=document.createElement("source");r.src=y[S].file,r.src!==t?(ie(y[S]),t&&b.load()):0===e&&b.currentTime>0&&(C=-1,u.seek(e)),e>0&&b.currentTime!==e&&u.seek(e);var i=Y(y);i&&u.trigger(s.UZ,{levels:i,currentQuality:S}),y.length&&"hls"!==y[0].type&&le()}function re(){if(!n.Browser.safari)return!0;var e=u.getCurrentTextTrack();return e&&e.sideloaded}function ie(e){O=null,V=-1,x.reason||(x.reason="initial choice",x.level={}),w=!1;var t=document.createElement("source");t.src=e.file,b.src!==t.src&&(b.src=e.file)}function ne(){b&&(u.disableTextTrack(),b.removeAttribute("preload"),b.removeAttribute("src"),(0,v.EU)(b),(0,c.oB)(b,{objectFit:""}),S=-1,!n.Browser.msie&&"load"in b&&b.load())}function ae(){var e=1/0;return["buffered","seekable"].forEach((function(t){for(var r=b[t],n=r?r.length:0;n--;){var a=Math.min(e,r.start(n));(0,i.xV)(a)&&(e=a)}})),e}function se(){var e=0;return["buffered","seekable"].forEach((function(t){for(var r=b[t],n=r?r.length:0;n--;){var a=Math.max(e,r.end(n));(0,i.xV)(a)&&(e=a)}})),e}function ue(){for(var e=-1,t=b.audioTracks,r=0;r<t.length;r++)if(t[r].enabled){e=r;break}ce(e)}function oe(e){u.trigger(s.h7,{target:e.target,jwstate:B})}function ce(e){b&&b.audioTracks&&O&&e>-1&&e<b.audioTracks.length&&e!==V&&(b.audioTracks[V].enabled=!1,V=e,b.audioTracks[V].enabled=!0,u.trigger(s._B,{currentTrack:V,tracks:O}))}function de(){if(!(b.readyState<2&&0===b.buffered.length))return 0===b.videoHeight}function le(){var e=de();if(void 0!==e){var t=e?"audio":"video";u.trigger(s.oZ,{mediaType:t})}}function he(){if(u.muteToggle&&b.muted){var e=de();if(void 0===e)return;var r=!b.paused;b.muted=u.muteToggle=!1,e?b.muted=t.mute:(b.muted=!0,r&&b.paused&&b.play())}}function fe(){if(0!==_){var e=d(b.buffered);u.isLive()&&e&&Z===e?-1===P&&(P=window.setTimeout((function(){W=!0,function(){if(W&&u.atEdgeOfLiveStream())u.trigger(s.Ew,new A.rG(A.Sp,F))}()}),_)):(ve(),W=!1),Z=e}}function ve(){j(P),P=-1}this.video=b,this.supportsPlaybackRate=!0,this.startDateTime=0,u.setStartDateTime=function(e){u.startDateTime=e;var t=new Date(e).toISOString(),r=u.getSeekRange(),i=r.start,n=r.end,a={metadataType:"program-date-time",programDateTime:t,start:i=Math.max(0,i),end:n=Math.max(i,n+10)},s=u.createCue(i,n,JSON.stringify(a));u.addVTTCue({type:"metadata",cue:s})},u.getCurrentTime=function(){return e=b.currentTime,t=u.getSeekRange(),u.isLive()&&((!X||Math.abs(U-t.end)>1)&&(function(e){U=e.end,X=Math.min(0,b.currentTime-U),z=(0,I.z)()}(t),u.ensureMetaTracksActive()),(0,f.s)(t.end-t.start,k))?X:e;var e,t},u.getDuration=function(){var e=b.duration;if(Q&&e===1/0&&0===b.currentTime||isNaN(e))return 0;var t=se();if(u.isLive()&&t){var r=t-ae();(0,f.s)(r,k)&&(e=-r)}return e},u.getSeekRange=function(){var e={start:0,end:0};return b.seekable.length?(e.end=se(),e.start=ae()):(0,i.xV)(b.duration)&&(e.end=b.duration),e},u.getLiveLatency=function(){var e=null,t=se();return u.isLive()&&t&&(e=t+((0,I.z)()-z)/1e3-b.currentTime),e},this.stop=function(){ve(),ne(),this.clearTracks(),n.Browser.ie&&b.pause(),this.setState(s.bc)},this.destroy=function(){var e=u.addTrackHandler,t=u.cueChangeHandler,r=u.textTrackChangeHandler,i=b.textTracks;if(u.off(),u.videoLoad&&(b.load=u.videoLoad),M=D,H(p,b),u.removeTracksListener(b.audioTracks,"change",ue),u.removeTracksListener(i,"change",r),u.removeTracksListener(i,"addtrack",e),t)for(var n=0,a=i.length;n<a;n++)i[n].removeEventListener("cuechange",t)},this.init=function(e){u.retries=0,u.maxRetries=e.adType?0:3,$(e);var t=y[S];(Q=(0,a.V)(t))&&(u.supportsPlaybackRate=!1,p.waiting=D),u.eventsOn_(),y.length&&"hls"!==y[0].type&&this.sendMediaType(y),x.reason=""},this.preload=function(e){$(e);var t=y[S],r=t.preload||"metadata";"none"!==r&&(b.setAttribute("preload",r),ie(t))},this.load=function(e){$(e),b.loop=!!t.loop,te(e.starttime),this.setupSideloadedTracks(e.tracks)},this.play=function(){return M(),ee()},this.pause=function(){ve(),M=function(){if(b.paused&&b.currentTime&&u.isLive()){var e=se(),t=e-ae(),r=!(0,f.s)(t,k),n=e-b.currentTime;if(r&&e&&(n>15||n<0)){if(L=Math.max(e-10,e-t),!(0,i.xV)(L))return;J(b.currentTime),b.currentTime=L}}},b.pause()},this.seek=function(e){var t=u.getSeekRange(),r=e;if(e<0&&(r+=t.end),w||(w=!!se()),w){he(),C=0;try{u.seeking=!0,u.isLive()&&(0,f.s)(t.end-t.start,k)&&(X=Math.min(0,r-U),e<0&&(r+=Math.min(12,((0,I.z)()-z)/1e3))),L=r,J(b.currentTime),b.currentTime=r}catch(e){u.seeking=!1,C=r}}else C=r,n.Browser.firefox&&b.paused&&ee()},this.setVisibility=function(e){(e=!!e)||n.OS.android?(0,c.oB)(u.container,{visibility:"visible",opacity:1}):(0,c.oB)(u.container,{visibility:"",opacity:0})},this.setFullscreen=function(e){if(e=!!e){try{var t=b.webkitEnterFullscreen||b.webkitEnterFullScreen;t&&t.apply(b)}catch(e){return!1}return u.getFullscreen()}var r=b.webkitExitFullscreen||b.webkitExitFullScreen;return r&&r.apply(b),e},u.getFullscreen=function(){return B||!!b.webkitDisplayingFullscreen},this.setCurrentQuality=function(e){S!==e&&e>=0&&y&&y.length>e&&(S=e,x.reason="api",x.level={},this.trigger(s.aM,{currentQuality:e,levels:Y(y)}),t.qualityLabel=y[e].label,te(b.currentTime||0),ee())},this.setPlaybackRate=function(e){b.playbackRate=b.defaultPlaybackRate=e},this.getPlaybackRate=function(){return b.playbackRate},this.getCurrentQuality=function(){return S},this.getQualityLevels=function(){return Array.isArray(y)?y.map((function(e){return function(e){return{bitrate:e.bitrate,label:e.label,width:e.width,height:e.height}}(e)})):[]},this.getName=function(){return{name:"html5"}},this.setCurrentAudioTrack=ce,this.getAudioTracks=function(){return O||[]},this.getCurrentAudioTrack=function(){return V}}(0,i.l7)(V.prototype,T.Z),V.getName=function(){return{name:"html5"}};var P=V,F=220001},4259:function(e,t,r){function i(e){return new Promise((function(t,r){if(e.paused)return r(n("NotAllowedError",0,"play() failed."));var i=function(){e.addEventListener("playing",a),e.addEventListener("abort",a),e.addEventListener("error",a),e.addEventListener("pause",a)},a=function(s){if(e.removeEventListener("play",i),e.removeEventListener("playing",a),e.removeEventListener("pause",a),e.removeEventListener("abort",a),e.removeEventListener("error",a),"playing"!==s.type){var u='The play() request was interrupted by a "'+s.type+'" event.';return"error"===s.type?r(n("NotSupportedError",9,u)):r(n("AbortError",20,u))}t()};e.addEventListener("play",i)}))}function n(e,t,r){var i=new Error(r);return i.name=e,i.code=t,i}r.d(t,{Z:function(){return i}})},4329:function(e,t,r){function i(e,t){return e!==1/0&&Math.abs(e)>=Math.max(a(t),0)}function n(e,t){var r="VOD";return e===1/0?r="LIVE":e<0&&(r=i(e,a(t))?"DVR":"LIVE"),r}function a(e){return void 0===e?120:Math.max(e,0)}r.d(t,{s:function(){return i},v:function(){return n}})}}]);